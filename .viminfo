# This viminfo file was generated by Vim 7.3.
# You may edit it if you're careful!

# Value of 'encoding' when this file was written
*encoding=utf-8


# hlsearch on (H) or off (h):
~h
# Last Search Pattern:
~MSle0~/ppp

# Last Substitute Search Pattern:
~MSle0&#

# Last Substitute String:
$

# Command Line History (newest to oldest):
:q!
:wq
:n
:w
:p
:wn
:5
:60
:3
:#
:w bin/pmta-config-gen.rb
:W bin/pmta-config-gen.rb
:W
:set foldlevel=0
:set foldlevel=2
:set foldlevel=1
:e ~/.vimrc
:set foldmethod=indent
:help fold-methods
:foldmethod
:foldlevel 1
:foldmethod = indent
:fdm=indent
:fdm indent
:232
:35
:81
:91
:Q!
:1
:333
:287
:Wq
:27
:4
:40
:help vim-airline
:help Airline
:help airline
:set laststatus=2
:q
:syntax on
:quit
:quir
:help NERD_tree.txt
:Helptags
:%s/#/"
:nmap \q :nohlsearch<CR>
:set hlsearch
:b#

# Search String History (newest to oldest):
?/ppp
?/fold
?/rescue
?/Rescue
?/VMTAS
? \<vmta_file_chunk\>
? \<v\>
?/vmta
?/.sent
?/started
?/rrupt
?/configi
?/store-suppression-file.p
? #
?/with
?/next

# Expression History (newest to oldest):

# Input Line History (newest to oldest):

# Input Line History (newest to oldest):

# Registers:
"0	LINE	0
	  c.write("# VMTAS #{a.join(' ')}")
""1	LINE	0
	    ips = get_system_ips
"2	LINE	0
	  sys_ips = get_system_ips
"3	LINE	0
	require 'tempfile'
"4	LINE	0
	require 'nokogiri'
"5	LINE	0
	  end
"6	LINE	0
	    puts "["+DateTime.now.to_s+"] Emails sent : #{p.sent.to_s}"
	    puts "["+DateTime.now.to_s+"] Time Elapsed : #{(Time.now - start_time).to_s}"
	    abort("["+DateTime.now.to_s+"] Interrupted. Rude.")
"7	LINE	0
	  #Wait for PMTA to be started
	  begin
	    puts "["+DateTime.now.to_s+"] Waiting for PMTA to start" if options[:verbose]
	    while not p.running?
	      sleep 2
	    end
	    puts "["+DateTime.now.to_s+"] PMTA started!" if options[:verbose]
	  rescue Interrupt
	    abort("["+DateTime.now.to_s+"] Interrupted. Rude.")
	  end
	
	  #Prepare batches
	  account_batches = vmta_file_chunk('/etc/pmta/warmer_vmtas',options[:batch_size])
	  if options[:verbose] 
	    puts "["+DateTime.now.to_s+"] Chunking Accounts"
	    puts "["+DateTime.now.to_s+"] Account chunks : #{account_batches.size}"
	  end
	  list_size = options[:batch_size].to_i * options[:emails_per_account].to_i
	  puts "["+DateTime.now.to_s+"] Emails per batch = #{list_size}" if options[:verbose]
	  list_batches = list_file_chunk(options[:list_file],list_size,account_batches.length)
	  if options[:verbose]
	    puts "["+DateTime.now.to_s+"] Chunking List"
	    puts "["+DateTime.now.to_s+"] List chunks : #{list_batches.size}"
	  end
	
	  begin
	    #Do the things
	    i = 0
	    account_batches.each do |account_batch|
	      #ensure pmta queue is paused
	      puts "["+DateTime.now.to_s+"] Pausing Email Queues" if options[:verbose]
	      paused = p.pause_queue
	      #Submit batch to existing feeder
	      p.empty_queue
	      puts "["+DateTime.now.to_s+"] Queueing Mail" if options[:verbose]
	      puts "["+DateTime.now.to_s+"] Batch: #{account_batch}" if options[:verbose]
	      puts "["+DateTime.now.to_s+"] List: #{list_batches[i]}" if options[:verbose]
	      queue_mail(account_batch, list_batches[i], options[:template_file])
	      #wait for batch to load
	      q = p.queue_size
	      puts "["+DateTime.now.to_s+"] Loading Mail" if options[:verbose]
	      while q < (options[:batch_size] * 0.95 ) do
	        q = p.queue_size
	        sleep 10
	      end
	      puts "["+DateTime.now.to_s+"] Starting Queues" if options[:verbose]
	      p.start_queue
	      #send batch
	      puts "["+DateTime.now.to_s+"] Sending Mail" if options[:verbose]
	      sending_wait = 0
"8	LINE	0
	  
	  #Create pmta controller
	  p = Pmta.new
	
"9	LINE	0
	  if options[:config]
"-	CHAR	0
	& sys_ips

# File marks:
'0  1  0  ~/projects/promo-manager/build/promo-manager.fpm.sh
'1  1  0  ~/projects/promo-manager/build/promo-manager.post.sh
'2  187  12  ~/projects/ice/bin/yfree-account-check.rb
'3  14  6  ~/projects/ice/bin/pmta-config-gen.rb
'4  111  0  ~/projects/ice/bin/yfree-warmer.rb
'5  80  98  ~/projects/ice/bin/pmta-config-gen.rb
'6  235  98  ~/projects/ice/bin/yfree-warmer.rb
'7  82  33  ~/projects/ice/bin/pmta-config-gen.rb
'8  4  0  ~/projects/ice/bin/pmta-config-gen.rb
'9  1  0  ~/projects/ice/irb

# Jumplist (newest first):
-'  1  0  ~/projects/promo-manager/build/promo-manager.fpm.sh
-'  1  0  ~/projects/promo-manager/build/promo-manager.post.sh
-'  187  12  ~/projects/ice/bin/yfree-account-check.rb
-'  1  0  ~/projects/ice/bin/yfree-account-check.rb
-'  14  6  ~/projects/ice/bin/pmta-config-gen.rb
-'  1  0  ~/projects/ice/bin/pmta-config-gen.rb
-'  111  0  ~/projects/ice/bin/yfree-warmer.rb
-'  1  0  ~/projects/ice/bin/yfree-warmer.rb
-'  77  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  1  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  5  0  ~/projects/ice/bin/yfree-account-check.rb
-'  80  98  ~/projects/ice/bin/pmta-config-gen.rb
-'  235  98  ~/projects/ice/bin/yfree-warmer.rb
-'  236  30  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  113  81  ~/projects/ice/bin/yfree-account-check.rb
-'  82  33  ~/projects/ice/bin/pmta-config-gen.rb
-'  4  0  ~/projects/ice/bin/pmta-config-gen.rb
-'  1  0  ~/projects/ice/irb
-'  96  26  ~/projects/ice/bin/pmta-config-gen.rb
-'  101  0  ~/projects/ice/bin/pmta-config-gen.rb
-'  58  1  ~/projects/ice/bin/pmta-config-gen.rb
-'  115  17  ~/projects/ice/bin/yfree-warmer.rb
-'  109  6  ~/projects/ice/bin/yfree-warmer.rb
-'  43  7  ~/projects/ice/bin/yfree-warmer.rb
-'  1  0  ~/.tmux.conf
-'  342  2  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  79  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  78  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  97  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  241  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  235  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  202  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  181  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  133  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  128  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  113  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  99  0  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  11  1  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  6  0  ~/.vimrc
-'  16  6  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  19  4  ~/projects/ice/bin/yfree-smart-warmer.rb
-'  8  14  ~/.vimrc
-'  1  0  ~/.vimrc
-'  118  80  ~/projects/ice/bin/yfree-warmer.rb
-'  54  2  ~/projects/ice/bin/yfree-warmer.rb
-'  49  12  ~/projects/ice/bin/yfree-warmer.rb
-'  15  0  ~/projects/ice/bin/yfree-warmer.rb
-'  59  2  ~/projects/ice/bin/yfree-warmer.rb
-'  77  1  ~/projects/ice/bin/yfree-warmer.rb
-'  35  4  ~/projects/ice/bin/yfree-account-check.rb
-'  92  31  ~/projects/ice/bin/yfree-warmer.rb
-'  1  0  ice/bin/yfree-warmer.rb
-'  71  27  ~/projects/ice/bin/yfree-warmer.rb
-'  75  3  ~/projects/ice/bin/yfree-warmer.rb
-'  192  0  ~/projects/ice/bin/yfree-account-check.rb
-'  11  46  /tmp/test.rb
-'  1  0  /tmp/test.rb
-'  94  6  ~/projects/ice/bin/yfree-warmer.rb
-'  157  2  ~/projects/ice/bin/yfree-account-check.rb
-'  85  0  ~/projects/ice/bin/yfree-account-check.rb
-'  57  0  ~/projects/promo-manager/bin/store-suppression-file.pl
-'  1  0  ~/projects/promo-manager/bin/store-suppression-file.pl
-'  52  0  ~/projects/promo-manager/bin/gen-all-pmta-configs.pl
-'  1  0  ~/projects/promo-manager/bin/gen-all-pmta-configs.pl
-'  134  0  ~/projects/ice/bin/yfree-account-check.rb
-'  1  0  /tmp/foo
-'  37  28  ~/.vimrc
-'  34  0  ~/.vimrc
-'  13  18  ~/.vimrc
-'  1  0  ~/yfree-warmer.rb
-'  142  0  ~/yfree-warmer.rb
-'  1  0  /tmp/poo
-'  16  16  ~/.vimrc
-'  3  0  ~/.vimrc
-'  5  0  ~/.vim/bundle/vim-airline/autoload/airline.vim
-'  1  0  ~/.vim/bundle/vim-airline/autoload/airline.vim
-'  3  0  /tmp/foo.rb
-'  1  0  /tmp/foo.rb
-'  27  0  ~/.viminfo
-'  1  0  ~/.viminfo
-'  2  0  ~/NERD_tree_2
-'  9  2  ~/NERD_tree_2
-'  1  0  ~/NERD_tree_2
-'  16  0  ~/NERD_tree_1
-'  1  0  ~/NERD_tree_1
-'  45  0  ~/.vimrc
-'  41  0  ~/.vimrc
-'  46  66  ~/.vimrc
-'  36  16  ~/.vimrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc
-'  1  0  ~/.bashrc

# History of marks within files (newest to oldest):

> ~/projects/promo-manager/build/promo-manager.fpm.sh
	"	1	0

> ~/projects/promo-manager/build/promo-manager.post.sh
	"	1	0

> ~/projects/ice/bin/yfree-account-check.rb
	"	187	12
	^	187	13
	.	187	12
	+	18	84
	+	17	22
	+	78	0
	+	11	16
	+	78	74
	+	78	60
	+	78	5
	+	89	0
	+	88	0
	+	86	1
	+	87	0
	+	86	67
	+	88	0
	+	82	17
	+	86	0
	+	84	21
	+	85	0
	+	147	0
	+	154	23
	+	157	0
	+	113	82
	+	182	25
	+	184	44
	+	185	27
	+	187	12

> ~/projects/ice/bin/pmta-config-gen.rb
	"	14	6
	^	14	7
	.	12	103
	+	52	32
	+	50	0
	+	74	0
	+	75	0
	+	118	0
	+	108	0
	+	106	0
	+	105	2
	+	101	0
	+	108	0
	+	119	0
	+	96	25
	+	96	26
	+	81	36
	+	82	44
	+	82	46
	+	6	0
	+	4	0
	+	82	33
	+	96	17
	+	111	15
	+	110	8
	+	115	0
	+	107	5
	+	111	27
	+	113	72
	+	114	16
	+	80	98
	+	12	103

> ~/projects/ice/bin/yfree-smart-warmer.rb
	"	77	0
	^	236	31
	.	235	98
	+	254	0
	+	97	0
	+	254	0
	+	235	98

> ~/projects/ice/bin/yfree-warmer.rb
	"	111	0
	^	235	99
	.	235	98
	+	94	0
	+	49	8
	+	49	0
	+	49	0
	+	49	0
	+	49	4
	+	49	14
	+	49	58
	+	49	17
	+	49	6
	+	118	0
	+	115	4
	+	118	0
	+	118	4
	+	118	0
	+	118	0
	+	118	0
	+	118	47
	+	118	3
	+	118	0
	+	118	51
	+	118	7
	+	118	0
	+	118	0
	+	118	0
	+	118	4
	+	118	22
	+	49	10
	+	49	10
	+	118	63
	+	49	0
	+	15	29
	+	15	75
	+	15	29
	+	103	17
	+	104	0
	+	104	0
	+	103	26
	+	104	22
	+	104	0
	+	118	5
	+	118	0
	+	118	63
	+	118	79
	+	53	7
	+	63	24
	+	75	2
	+	51	2
	+	50	2
	+	75	0
	+	77	2
	+	75	33
	+	57	0
	+	53	0
	+	51	0
	+	53	0
	+	53	59
	+	50	2
	+	51	2
	+	77	2
	+	64	0
	+	76	0
	+	75	2
	+	1	20
	+	1	38
	+	1	57
	+	1	80
	+	1	98
	+	1	117
	+	1	0
	+	51	0
	+	53	0
	+	54	0
	+	63	24
	+	118	24
	+	118	62
	+	118	80
	+	50	0
	+	15	0
	+	15	0
	+	19	0
	+	29	30
	+	55	7
	+	104	0
	+	107	0
	+	109	0
	+	108	2
	+	117	0
	+	117	0
	+	115	0
	+	116	0
	+	118	0
	+	6	0
	+	4	0
	+	98	25
	+	100	26
	+	99	31
	+	100	17
	+	235	99
	+	235	98

> ~/projects/ice/irb
	"	1	0

> ~/.tmux.conf
	"	1	0

> /usr/share/vim/vim73/doc/fold.txt
	"	43	0

> ~/.vimrc
	"	6	0
	^	6	0
	.	5	21
	+	25	0
	+	1	31
	+	33	0
	+	40	22
	+	38	0
	+	37	28
	+	36	0
	+	41	0
	+	1	22
	+	22	10
	+	46	0
	+	1	25
	+	21	24
	+	22	0
	+	18	24
	+	19	5
	+	18	5
	+	19	22
	+	46	0
	+	1	16
	+	44	28
	+	1	38
	+	3	9
	+	3	0
	+	15	0
	+	1	0
	+	2	0
	+	16	16
	+	4	0
	+	13	18
	+	34	0
	+	4	0
	+	7	31
	+	7	32
	+	8	14
	+	5	21
	+	5	21

> ice/bin/yfree-warmer.rb
	"	1	0

> /tmp/test.rb
	"	11	46
	^	11	47
	.	11	46
	+	11	6
	+	6	0
	+	7	14
	+	11	46

> ~/projects/promo-manager/bin/store-suppression-file.pl
	"	57	0

> ~/projects/promo-manager/bin/gen-all-pmta-configs.pl
	"	52	0

> /tmp/foo
	"	1	0
	^	1	0
	.	1	0
	+	2	0
	+	2	0
	+	1	0

> ~/yfree-warmer.rb
	"	1	0
	^	141	9
	.	140	0
	+	40	0
	+	139	6
	+	133	0
	+	131	14
	+	133	1
	+	134	4
	+	135	4
	+	136	4
	+	137	2
	+	138	2
	+	139	16
	+	140	0

> /tmp/poo
	"	1	0

> ~/.vim/bundle/NERD_tree_1
	"	4	0
	.	1	0
	+	1	0

> ~/.vim/bundle/vim-airline/autoload/airline.vim
	"	5	0

> /tmp/foo.rb
	"	3	0
	^	3	0
	.	3	0
	+	3	0

> ~/NERD_tree_1
	"	4	0
	.	1	0
	+	1	0
	+	1	0
	+	1	0

> ~/.viminfo
	"	27	0

> ~/NERD_tree_2
	"	2	0
	.	1	0
	+	1	0
	+	1	0
	+	1	0
	+	1	0
	+	1	0
	+	1	0
	+	1	0
	+	1	0

> ~/.vim/bundle/nerdtree/doc/NERD_tree.txt
	"	86	0

> ~/.bashrc
	"	1	0
